const f="modulepreload",p=function(a){return"/"+a},u={},g=function(e,n,l){let c=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),t=s?.nonce||s?.getAttribute("nonce");c=Promise.allSettled(n.map(o=>{if(o=p(o),o in u)return;u[o]=!0;const r=o.endsWith(".css"),h=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":f,r||(i.as="script"),i.crossOrigin="",i.href=o,t&&i.setAttribute("nonce",t),document.head.appendChild(i),r)return new Promise((m,w)=>{i.addEventListener("load",m),i.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${o}`)))})}))}function d(s){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=s,window.dispatchEvent(t),!t.defaultPrevented)throw s}return c.then(s=>{for(const t of s||[])t.status==="rejected"&&d(t.reason);return e().catch(d)})};class y extends HTMLElement{closeBtn;dialog;dialogFrame;openBtn;closeModal=()=>{this.dialog.open&&(this.dialog.close(),window.removeEventListener("click",this.onWindowClick))};onWindowClick=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!this.dialogFrame.contains(e.target))&&this.closeModal()};onWindowKeydown=e=>{e.key==="/"&&!this.dialog.open&&(this.openModal(),e.preventDefault())};openModal=e=>{this.dialog.showModal(),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",this.onWindowClick)};constructor(){super(),this.openBtn=this.querySelector("button[data-open-modal]"),this.closeBtn=this.querySelector("button[data-close-modal]"),this.dialog=this.querySelector("dialog"),this.dialogFrame=this.querySelector(".dialog-frame"),this.openBtn.addEventListener("click",this.openModal),this.openBtn.disabled=!1,this.closeBtn.addEventListener("click",this.closeModal)}connectedCallback(){window.addEventListener("keydown",this.onWindowKeydown),(window.requestIdleCallback||(n=>setTimeout(n,1)))(async()=>{const{PagefindUI:n}=await g(async()=>{const{PagefindUI:l}=await import("./ui-core.kY1ae_Qx.js");return{PagefindUI:l}},[]);new n({baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",element:"#cactus__search",showImages:!1,showSubResults:!0})})}disconnectedCallback(){window.removeEventListener("keydown",this.onWindowKeydown)}}customElements.define("site-search",y);export{g as _};
